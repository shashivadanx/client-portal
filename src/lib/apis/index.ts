import axios from "axios";
import { env } from "../env";

const apiClient = axios.create({
  baseURL: env.urls.baseUrl,
});

apiClient.interceptors.request.use(
  async (config) => {
    const token =
      "eyJhbGciOiJSUzI1NiIsImtpZCI6ImE1YTAwNWU5N2NiMWU0MjczMDBlNTJjZGQ1MGYwYjM2Y2Q4MDYyOWIiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiU2hhc2hpdmFkYW4gVGhvdGEiLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUNnOG9jS2k1Y3FNVGpWbVd2NlBPOW4wa3hndFRncWJVZkFBamlmdXNGdGpkeWtoM3Q2UG8zYz1zOTYtYyIsIm9yZ19pZCI6Im5HdVhRVUYyeVJjRU1UMkdMb29aIiwicm9sZSI6ImFkbWluIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL2FsZ29oaXJlLXRlc3QiLCJhdWQiOiJhbGdvaGlyZS10ZXN0IiwiYXV0aF90aW1lIjoxNzYwNDQ0MjYyLCJ1c2VyX2lkIjoiSTBNTkJWVUlUclQyaTVHWlVwNEZkSlByUGROMiIsInN1YiI6IkkwTU5CVlVJVHJUMmk1R1pVcDRGZEpQclBkTjIiLCJpYXQiOjE3NjA0NDQyNjIsImV4cCI6MTc2MDQ0Nzg2MiwiZW1haWwiOiJzaGFzaGlAYWxnb2hpcmUuYWkiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJnb29nbGUuY29tIjpbIjEwMDM2OTgzMDEyNDg3MDEwMTc5OCJdLCJlbWFpbCI6WyJzaGFzaGlAYWxnb2hpcmUuYWkiXX0sInNpZ25faW5fcHJvdmlkZXIiOiJjdXN0b20ifX0.mRZ9ayXYcXwoEkQSF4Vvn85njfUNXqyGGZmjcqLBz02Tl-u-7fkY7eJtNfx_xMjx-pUi5AJ8mUunYk11HFgyNYmq_pFDjhv4ehVrv-0hRazFn3_lRSFO9Vc4pnwfwuMx5sg49sLENth5ITE-ingY0vLBdLwtxt3uaNFO6o-PSBK75VcY2xm2VKLRCqFZ-e6FPSTjTNHs56cfWaauRn2wyXUu_nDxYmcwZ-ehVFX6GKXgIQYbSekuJIw43DvkZd0E4slwaTQcB6HsQFTOev0y7TEeZ2w-dOAI7wl4eQbbktY_oo1eWoHaS4AGzBYlhBVRw2p4aAbCszHE8MuF1D6IwA";
    config.headers.Authorization = `Bearer ${token}`;
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

export default apiClient;
